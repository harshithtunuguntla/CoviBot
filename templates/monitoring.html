<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Additional Settings</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>

        .namelogo{
            font-family: 'Inter', sans-serif;
            font-size: 25px;
            font-weight:800;
            color: #1864FF;
            padding: 1%;
        }
        .dashboardheading{
            font-family: 'Inter', sans-serif;
            font-size: 40px;
            font-weight:800;
            color: #1864FF;
        }

        .btn {
            min-width: 250px;
            background-color: #4E3388;
            color: white;
        }

        .columcolor
        {
            background-color: #ffe600a4;
        }

        .rotateicon{
            transform:rotate(0deg);
        }
        .rotateicon90{
            transform:rotate(90deg);
        }
        .rotateicon180{
            transform:rotate(180deg);
        }
        .rotateicon270{
            transform:rotate(270deg);
        }

        .spacebuttons {
        display: flex;
        justify-content:space-between; 
        }
        
    </style>
</head>


<body>

    <div class="namelogo">
        CoviBot
    </div>



    <div class="row justify-content-center dashboardheading">
        DashBoard
    </div>


    <div class="container columcolor">

        <div class="row">

            <div class="col-md-1 ">

            </div>

            <div class="col-md-5 flex justify-content-center">

                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>





                    <div class="row justify-content-center">
                        <label for="range_value" class="form-label"><h2>Monitoring Status: <span id="monitoringstate">OFF</span></h2></label>  
                    </div>

                        <!-- <br> -->
                        
                    <div class="row justify-content-center">

                        <div classs="col-md-5">
                            <button class="btn" style="background-color: green;" onclick="monitoring_on()">Start Monitorning</button>  
                        </div>


                        <div classs="col-md-5">
                        <button class="btn" style="background-color: red;" onclick="monitoring_off()">Stop Monitorning</button>  
                        </div>

                    </div>

              </div>
    
              <div class="col-md-5">

                <br>
                <br>
                <br>
                <br>


                <div class="row justify-content-end">
                    <button type="button" class="btn btn-default btn-lg " onclick="location.href = '/dashboard_1'">Take Control</button>
                    </div>
    
                    <br>
    
                    <div class="row justify-content-end">
                    <button type="button" class="btn btn-default btn-lg"  onclick="location.href = '/lockdown'">LockDown</button>
                    </div>
    
                    <br>
    
                    <div class="row justify-content-end">
                    <button type="button" class="btn btn-default btn-lg disabled" onclick="location.href = '/monitoring'">Scan People</button>
                    </div>
    
                    <br>
    
                    <div class="row justify-content-end">
                    <button type="button" class="btn btn-default btn-lg" onclick="location.href = '/medicine'" >Give Medicine</button>
                    </div>
    
                    <br>
    
                    <div class="row justify-content-end">
                    <button type="button" class="btn btn-default btn-lg" onclick="location.href = '/additional_settings'">Additional Settings</button>
                    </div>
    

                <br>
                <br>
                <br>
                    

              </div>

              <div class="col-md-1 ">

            </div>



        </div>

        

    </div>


            
        <script>

            // 10000 - forward
            // 01000 - left
            // 00100 - stop
            // 00010 - right
            // 00001 - backward

            var stop_command = null;

            function loop_distance(){
                let url = "/monitoring/start";
                document.location.href=url;
            }

 
            async function monitoring_on(){
                console.log("Monitoring On");
                document.getElementById("monitoringstate").innerHTML = "ON";
                let url = "/monitoring/start";
                document.location.href=url;

                stop_command = await setInterval(loop_distance,1);
            }

            function monitoring_off(){
                console.log("Monitorrning oFF Caalled")
                console.log("Monitoring Off");
                document.getElementById("monitoringstate").innerHTML = "OFF";
                // let url2 = "/monitoring/stop";


                clearInterval(stop_command);
                document.location.href="/monitoring/stop";
                // shift_url();


            }


 
        </script>

        

        
</body>




</html>